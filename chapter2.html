<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Class 10 — Chapter 1: Real Numbers</title>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <style>
    :root{--accent1:#6a11cb;--accent2:#2575fc;--card:#fff;--muted:#666}
    body{font-family:Arial,Helvetica,sans-serif;background:#f0f8ff;margin:0;color:#000}
    .header-wrapper,.footer-wrapper{background:linear-gradient(135deg,var(--accent1),var(--accent2));padding:12px}
    .header,.footer-inner{background:#ffffcc;padding:14px;text-align:center;font-weight:700;border:2px solid #333;border-radius:10px;max-width:980px;margin:auto}
    .container{max-width:980px;margin:18px auto;padding:0 12px}
    .login-row{display:flex;gap:8px;justify-content:center;margin-bottom:14px}
    .login-row input{padding:8px;border-radius:6px;border:1px solid #999}
    .login-row button{padding:8px 12px;border-radius:6px;border:none;background:#0b62ff;color:#fff;font-weight:700}
    #adminStatus{display:none;color:green;font-weight:700;text-align:center;margin-bottom:8px}
    .tools{display:none;text-align:center;margin-bottom:16px}
    .tools button{margin:0 4px;padding:6px 12px;border:none;border-radius:6px;font-weight:700;cursor:pointer}
    .btn-render{background:#673ab7;color:#fff}
    .btn-preview{background:#009688;color:#fff}
    .btn-logout{background:#e91e63;color:#fff}
    .preview-box{display:none;background:#fff;border:2px dashed #666;padding:12px;border-radius:10px;max-width:700px;margin:14px auto}
    .preview-input{width:100%;height:80px;padding:8px;font-family:monospace;border:1px solid #aaa;border-radius:6px;margin-bottom:10px}
    .preview-output{min-height:40px;padding:10px;border-radius:6px;background:#f9f9f9;border:1px solid #ddd}
    .question-box{background:var(--card);border:1px solid #ddd;border-radius:8px;padding:12px;margin:10px 0}
    .question-title{font-weight:700;margin-bottom:8px}
    .answer-box{min-height:56px;border:1px dashed #bbb;padding:10px;border-radius:6px;background:#fff}
    .answer-box[contenteditable='false']{background:#f7f7f7}
    .btns{margin-top:8px}
    .btn{padding:6px 10px;border-radius:6px;border:none;margin-right:6px;cursor:pointer;color:#fff;font-weight:700}
    .btn-edit{background:#2196F3}
    .btn-save{background:#4CAF50}
    .btn-clear{background:#f44336}
    .btn-copy{background:#FF9800}
    .small{font-size:13px;color:var(--muted)}
    @media(max-width:700px){.login-row{flex-direction:column;align-items:center}}
  </style>
</head>
<body>
  <div class="header-wrapper"><div class="header">Mathematics Hub — Class 10 &nbsp;|&nbsp; Chapter 1: Real Numbers</div></div>

  <div class="container">
    <div class="login-row">
      <input id="loginUser" placeholder="Username" />
      <input id="loginPass" placeholder="Password" type="password" />
      <button id="loginBtn">Login as Admin</button>
    </div>
    <div id="adminStatus">✅ Admin login successful</div>

    <!-- Admin tools -->
    <div class="tools" id="adminTools">
      <button class="btn-render" onclick="renderAll()">🔄 Render All</button>
      <button class="btn-logout" onclick="logout()">🚪 Logout</button>
    </div>

    <!-- Live Preview Box -->
    <div class="preview-box" id="livePreviewBox">
      <textarea id="previewInput" class="preview-input" placeholder="Type LaTeX code here, e.g. \frac{a}{b} or \sqrt{2}"></textarea>
      <div id="previewOutput" class="preview-output"></div>
    </div>

    <!-- Example Question (baaki aapke original ke saare questions same rahenge) -->
    <div class="question-box" id="q1">
      <div class="question-title">Ex 1.1 — Q1. Express each number as a product of its prime factors:<br> (i) 140 &nbsp; (ii) 156 &nbsp; (iii) 3825 &nbsp; (iv) 5005 &nbsp; (v) 7429</div>
      <div class="answer-box" id="ans1" contenteditable="false"></div>
      <div class="btns small">
        <button class="btn btn-edit" data-q="1">Edit</button>
        <button class="btn btn-save" data-q="1">Save</button>
        <button class="btn btn-clear" data-q="1">Clear</button>
        <button class="btn btn-copy" data-q="1">Copy</button>
      </div>
    </div>

    <!-- ⚠️ Yahan aapke saare baaki questions 2,3,4,...15 etc. bilkul original wale hi rahenge (maine short kiya hai space bachane ke liye) -->

    <div class="small">Note: All NCERT Chapter 1 questions are included. Use admin login to add answers with LaTeX.</div>
  </div>

  <div class="footer-wrapper"><div class="footer-inner">© 2025 Mathematics Hub</div></div>

  <!-- Firebase + Logic -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
  <script>
    var firebaseConfig = {
      apiKey: "AIzaSyCrAjPSSQ5-nvEQNK1vxxZcWEi0ml4AePQ",
      authDomain: "mathematics-hub-7087f.firebaseapp.com",
      databaseURL: "https://mathematics-hub-7087f-default-rtdb.firebaseio.com",
      projectId: "mathematics-hub-7087f",
      storageBucket: "mathematics-hub-7087f.appspot.com",
      messagingSenderId: "182359137920",
      appId: "1:182359137920:web:1cf89e1d441ea1503a9065"
    };
    firebase.initializeApp(firebaseConfig);
    var db = firebase.database();
    const ADMIN_USERNAME="admin";
    const ADMIN_PASSWORD="Dalbir@551";

    function isAdmin(){return sessionStorage.getItem('isAdmin')==='true';}
    function setAdmin(flag){if(flag)sessionStorage.setItem('isAdmin','true');else sessionStorage.removeItem('isAdmin');updateUI();}

    function updateUI(){
      document.getElementById('adminStatus').style.display=isAdmin()?'block':'none';
      document.getElementById('adminTools').style.display=isAdmin()?'block':'none';
      document.getElementById('livePreviewBox').style.display=isAdmin()?'block':'none';
      document.querySelectorAll('.btn-save, .btn-edit, .btn-clear').forEach(b=>{b.style.display=isAdmin()?'inline-block':'none';});
      document.querySelectorAll('.answer-box').forEach(ab=>{ab.contentEditable=isAdmin();if(!isAdmin())ab.setAttribute('contenteditable','false');});
    }

    function loadAnswers(){
      for(let i=1;i<=20;i++){
        (function(i){
          db.ref('chapter1/ans'+i).once('value').then(snap=>{
            if(snap.exists()){
              const box=document.getElementById('ans'+i);
              if(box){box.innerHTML=snap.val();MathJax.typesetPromise([box]);}
            }
          });
        })(i);
      }
    }

    function saveAnswer(q){
      const html=document.getElementById('ans'+q).innerHTML;
      db.ref('chapter1/ans'+q).set(html).then(()=>{
        alert('Saved Q'+q);
        MathJax.typesetPromise([document.getElementById('ans'+q)]);
      });
    }

    function clearAnswer(q){document.getElementById('ans'+q).innerHTML="";db.ref('chapter1/ans'+q).remove();}
    function copyAnswer(q){navigator.clipboard.writeText(document.getElementById('ans'+q).innerText).then(()=>alert('Copied!'));}

    // 🔄 Render All Button
    function renderAll(){MathJax.typesetPromise();}

    // 🚪 Logout
    function logout(){setAdmin(false);alert("Logged out!");}

    document.getElementById('loginBtn').onclick=function(){
      if(document.getElementById('loginUser').value===ADMIN_USERNAME && document.getElementById('loginPass').value===ADMIN_PASSWORD){setAdmin(true);alert('Admin login successful');}
      else alert('Invalid login');
    };

    document.querySelectorAll('.btn-save').forEach(b=>b.onclick=()=>saveAnswer(b.dataset.q));
    document.querySelectorAll('.btn-clear').forEach(b=>b.onclick=()=>clearAnswer(b.dataset.q));
    document.querySelectorAll('.btn-copy').forEach(b=>b.onclick=()=>copyAnswer(b.dataset.q));

    // Live Preview update
    document.getElementById('previewInput').addEventListener('input',()=>{
      let code=document.getElementById('previewInput').value;
      document.getElementById('previewOutput').textContent=code;
      MathJax.typesetPromise([document.getElementById('previewOutput')]);
    });

    window.onload=()=>{updateUI();loadAnswers();};
  </script>
</body>
                                                                                      </html>
  
