<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Class 10 - Chapter 1: Real Numbers</title>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<style>
  body { font-family: Arial, sans-serif; background:#f0f8ff; padding:20px; }
  .q-box{ border:1px solid #ccc; padding:10px; margin:10px 0; border-radius:8px; background:#fff; }
  .q-head{ font-weight:bold; margin-bottom:6px; }
  .ans-box{ min-height:40px; border:1px dashed #aaa; padding:6px; border-radius:4px; background:#fafafa; }
  .btn{ padding:6px 10px; margin:4px 2px; border:none; border-radius:4px; cursor:pointer; font-size:13px; }
  .btn-save{ background:#4CAF50; color:#fff; }
  .btn-copy{ background:#9C27B0; color:#fff; }   /* 🔹 Purple copy button */
  .btn-preview{ background:#2196F3; color:#fff; }
</style>
</head>
<body>

<h2>Class 10 - Mathematics</h2>
<h3>Chapter 1: Real Numbers</h3>

<div id="questions"></div>

<script>
  // 🔹 Firebase config (replace with your actual config)
  const firebaseConfig = {
    apiKey: "YOUR_KEY",
    authDomain: "YOUR_DOMAIN",
    databaseURL: "YOUR_DB_URL",
    projectId: "YOUR_PROJECT_ID",
    storageBucket: "YOUR_BUCKET",
    messagingSenderId: "YOUR_SENDER",
    appId: "YOUR_APP_ID"
  };
  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();

  // Sample 20 questions (Chapter 1: Real Numbers)
  const questions = [
    "Q1. Use Euclid’s division lemma to show that the cube of any positive integer is divisible by 9, 3 or 1.",
    "Q2. Find HCF of 65 and 117 using Euclid’s algorithm.",
    "Q3. Show that 5 – √3 is irrational.",
    "Q4. Prove that there are infinitely many prime numbers.",
    "Q5. Find LCM and HCF of 6 and 20 and verify that LCM × HCF = product of two numbers.",
    "Q6. Express 3825 as the product of prime factors.",
    "Q7. Show that 7 × 11 × 13 + 13 is a composite number.",
    "Q8. Write whether decimal expansion of 441/210 will be terminating or non-terminating repeating.",
    "Q9. Without actual division, show that 987/10500 is a terminating decimal expansion.",
    "Q10. Prove that √7 is irrational.",
    "Q11. Prove that 3 + 2√5 is irrational.",
    "Q12. Write the prime factorisation of 5005 and 7429 and hence find their HCF.",
    "Q13. Show that 1/2, 1/3 and 1/4 are not in A.P.",
    "Q14. Use Euclid’s division lemma to find HCF of 867 and 255.",
    "Q15. Express 360 as product of prime factors.",
    "Q16. Write whether decimal expansion of 43/2^4×5^3 will terminate or not.",
    "Q17. Prove that there is no prime number between 19 and 23.",
    "Q18. State and prove Fundamental Theorem of Arithmetic.",
    "Q19. Show that any odd positive integer is of the form (6q + 1) or (6q + 3) or (6q + 5).",
    "Q20. If p is a prime, show that √p is irrational."
  ];

  // Render Q boxes
  const qDiv=document.getElementById("questions");
  questions.forEach((q,i)=>{
    let id=i+1;
    qDiv.innerHTML+=`
      <div class="q-box">
        <div class="q-head">${q}</div>
        <div id="ans${id}" class="ans-box" contenteditable="true"></div>
        <button class="btn btn-save" data-q="${id}">💾 Save</button>
        <button class="btn btn-preview" data-q="${id}">👁 Preview</button>
        <button class="btn btn-copy" data-q="${id}">📋 Copy</button>
      </div>`;
  });

  // Load answers from Firebase
  function loadAnswers(){ 
    for(let i=1;i<=20;i++){ 
      (function(i){ 
        db.ref('chapter1/ans'+i).once('value').then(snap=>{ 
          if(snap.exists()){ 
            let el = document.getElementById('ans'+i);
            if(el){
              el.innerHTML = snap.val(); 
              MathJax.typesetPromise([el]); // render after load
            }
          } 
        }); 
      })(i); 
    } 
  }
  loadAnswers();

  // Save button
  document.querySelectorAll('.btn-save').forEach(btn=>{
    btn.addEventListener('click',()=>{
      let q=btn.getAttribute('data-q');
      let ab=document.getElementById('ans'+q); 
      let html=ab.innerHTML;
      db.ref('chapter1/ans'+q).set(html).then(()=>{
        alert('Saved Q'+q);
        MathJax.typesetPromise([ab]); // render after save
      });
    });
  });

  // Preview button (render without save)
  document.querySelectorAll('.btn-preview').forEach(btn=>{
    btn.addEventListener('click',()=>{
      let q=btn.getAttribute('data-q');
      let ab=document.getElementById('ans'+q);
      MathJax.typesetPromise([ab]); // render live
    });
  });

  // Copy button
  document.querySelectorAll('.btn-copy').forEach(btn=>{
    btn.addEventListener('click',()=>{
      let q=btn.getAttribute('data-q');
      let ab=document.getElementById('ans'+q);
      navigator.clipboard.writeText(ab.innerText).then(()=>{
        alert('Copied Q'+q);
      });
    });
  });
</script>

</body>
</html>
