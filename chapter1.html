<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Class 10 - Chapter 1: Real Numbers</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
body { font-family: Arial, sans-serif; background:#f0f8ff; margin:0; padding:0; color:#000; }
.header, .footer { text-align:center; padding:15px; background:#FFFFCC; border:2px solid #333; border-radius:10px; max-width:600px; margin:auto; font-weight:bold; }
.box { background:#F9F9F9; border:1px solid #999; margin:10px; padding:10px; border-radius:6px; }
.exercise { font-weight:bold; font-size:16px; margin-bottom:8px; }
iframe { width:100%; height:500px; border:1px solid #333; border-radius:6px; }
textarea { width:100%; min-height:150px; margin-top:10px; padding:8px; font-size:14px; border-radius:6px; border:1px solid #999; font-family:Arial, sans-serif; }
button { margin-top:6px; padding:8px 12px; border:none; border-radius:6px; background:#4CAF50; color:#fff; font-weight:bold; cursor:pointer; }
button:hover { filter:brightness(0.9); }
#adminStatus { display:none; color:green; font-weight:bold; margin-top:6px; }
</style>
</head>
<body>

<div class="header">Mathematics Hub - Class 10<br>Chapter 1: Real Numbers</div>

<div class="box">
  <div class="exercise">Exercise 1.1</div>
  <div><b>Q1:</b> Express 140 as a product of its prime factors.</div>
  
  <div><b>Answer (PDF):</b></div>
  <iframe src="https://drive.google.com/file/d/1tdkgobA_VB3W4xTgu2wo6VYwvcAnKkOa/preview" allow="autoplay"></iframe>
  
  <div id="adminStatus">✅ Admin Mode Active</div>
  <textarea id="adminBox" placeholder="Admin: Paste solution here (text, math symbols, image links etc.)"></textarea>
  <button id="saveBtn">Save Answer</button>
</div>

<div class="footer">© 2025 Mathematics Hub</div>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

<script>
var firebaseConfig = {
  apiKey: "AIzaSyCrAjPSSQ5-nvEQNK1vxxZcWEi0ml4AePQ",
  authDomain: "mathematics-hub-7087f.firebaseapp.com",
  databaseURL: "https://mathematics-hub-7087f-default-rtdb.firebaseio.com",
  projectId: "mathematics-hub-7087f",
  storageBucket: "mathematics-hub-7087f.appspot.com",
  messagingSenderId: "182359137920",
  appId: "1:182359137920:web:1cf89e1d441ea1503a9065"
};
firebase.initializeApp(firebaseConfig);
var db = firebase.database();
const ADMIN_PASSWORD = "Dalbir@551";

// Admin Authentication
function isAdmin() { return sessionStorage.getItem("isAdmin")==="true"; }
function setAdmin(flag) {
  if(flag) sessionStorage.setItem("isAdmin","true"); 
  else sessionStorage.removeItem("isAdmin"); 
  document.getElementById("adminStatus").style.display = flag ? "block" : "none";
  document.getElementById("adminBox").style.display = flag ? "block" : "none";
  document.getElementById("saveBtn").style.display = flag ? "inline-block" : "none";
}

// Prompt for admin login
if(!isAdmin()) {
  let user = prompt("Enter username (type 'admin' to login as admin):");
  if(user && user.toLowerCase() === "admin") {
    let pwd = prompt("Enter admin password:");
    if(pwd === ADMIN_PASSWORD) { setAdmin(true); }
    else { alert("Incorrect password"); setAdmin(false); }
  }
}

// Load saved answer from Firebase
db.ref("chapter1/q1").on("value", snap => {
  if(snap.exists()) document.getElementById("adminBox").value = snap.val();
});

// Save answer to Firebase
document.getElementById("saveBtn").addEventListener("click", ()=>{
  let val = document.getElementById("adminBox").value;
  db.ref("chapter1/q1").set(val, err=>{
    if(err) alert("Error saving: "+err);
    else alert("Answer saved successfully!");
  });
});
</script>

</body>
  </html>
  
